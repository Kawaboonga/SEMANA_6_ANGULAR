<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>proyecto-semana4 documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">proyecto-semana4 documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  CourseFormComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/shared/forms/course-form/course-form.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnChanges</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-course-form</code></td>
            </tr>

            <tr>
                <td class="col-md-3">standalone</td>
                <td class="col-md-9"><code>true</code></td>
            </tr>

            <tr>
                <td class="col-md-3">imports</td>
                <td class="col-md-9">
                            <code>CommonModule</code>
                            <code>ReactiveFormsModule</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./course-form.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./course-form.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#allTags" >allTags</a>
                            </li>
                            <li>
                                <a href="#difficultyOptions" >difficultyOptions</a>
                            </li>
                            <li>
                                <a href="#durationPresets" >durationPresets</a>
                            </li>
                            <li>
                                <a href="#form" >form</a>
                            </li>
                            <li>
                                <a href="#modalityPresets" >modalityPresets</a>
                            </li>
                            <li>
                                <a href="#presetPricesCLP" >presetPricesCLP</a>
                            </li>
                            <li>
                                <a href="#pricePerHourPresets" >pricePerHourPresets</a>
                            </li>
                            <li>
                                <a href="#ratingPresets" >ratingPresets</a>
                            </li>
                            <li>
                                <a href="#selectedTags" >selectedTags</a>
                            </li>
                            <li>
                                <a href="#submitted" >submitted</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#applyDurationPreset" >applyDurationPreset</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#buildForm" >buildForm</a>
                            </li>
                            <li>
                                <a href="#hasError" >hasError</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#inferModalityPreset" >inferModalityPreset</a>
                            </li>
                            <li>
                                <a href="#ngOnChanges" >ngOnChanges</a>
                            </li>
                            <li>
                                <a href="#onCancel" >onCancel</a>
                            </li>
                            <li>
                                <a href="#onDurationPresetChange" >onDurationPresetChange</a>
                            </li>
                            <li>
                                <a href="#onPricePerHourPreset" >onPricePerHourPreset</a>
                            </li>
                            <li>
                                <a href="#onRatingPresetChange" >onRatingPresetChange</a>
                            </li>
                            <li>
                                <a href="#onSubmit" >onSubmit</a>
                            </li>
                            <li>
                                <a href="#onToggleTag" >onToggleTag</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#patchForm" >patchForm</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#slugify" >slugify</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#course" >course</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Outputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#cancel" >cancel</a>
                            </li>
                            <li>
                                <a href="#save" >save</a>
                            </li>
                        </ul>
                    </td>
                </tr>



                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#f" >f</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(fb: FormBuilder)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="246" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:246</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructor del componente.</p>
<ul>
<li>Inyecta <code>FormBuilder</code>.</li>
<li>Construye el <code>FormGroup</code> inicial con todos los campos y defaults.</li>
</ul>
<b>Example :</b><div><pre class="line-numbers"><code class="language-ts">constructor(private fb: FormBuilder) {
  this.buildForm();
}</code></pre></div></div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>fb</td>
                                                  
                                                        <td>
                                                                    <code>FormBuilder</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Servicio <code>FormBuilder</code> para crear formularios reactivos.</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                                    <b>Example :</b>
                                        <div>
                                            <b>Example :</b><div><pre class="line-numbers"><code class="language-ts">constructor(private fb: FormBuilder) {
  this.buildForm();
}</code></pre></div>
                                        </div>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section data-compodoc="block-inputs">
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="course"></a>
                        <b>course</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Course.html" target="_self" >Course | null</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="75" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:75</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>
    <section data-compodoc="block-outputs">
    <h3 id="outputs">Outputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="cancel"></a>
                        <b>cancel</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="96" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:96</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Evento simple para notificar al componente padre que el usuario canceló
la edición/creación. Ideal para cerrar modales, drawers o paneles.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="save"></a>
                        <b>save</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="89" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:89</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Emite un objeto <code>Course</code> completamente normalizado cuando el formulario
es válido y se confirma el envío.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-ts">onSave(course: Course) {
  this.courseService.upsert(course);
}</code></pre></div></div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>


    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="applyDurationPreset"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>applyDurationPreset</b></span>
                        <a href="#applyDurationPreset"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>applyDurationPreset(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="550"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:550</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Aplica un preset de duración (por índice) y copia sus valores
a los campos derivados del formulario:</p>
<ul>
<li><code>duration</code></li>
<li><code>durationHours</code></li>
<li><code>totalLessons</code></li>
</ul>
<p>No emite eventos de cambio (<code>emitEvent: false</code>).</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>index</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Índice del preset dentro de <code>durationPresets</code>.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="buildForm"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>buildForm</b></span>
                        <a href="#buildForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>buildForm()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="311"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:311</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Construye el <code>FormGroup</code> principal del formulario con:</p>
<ul>
<li>campos básicos de identificación</li>
<li>dificultad, duración, modalidad</li>
<li>descripciones</li>
<li>rating</li>
<li>precios</li>
<li>tags y flags de visibilidad</li>
</ul>
<p>También aplica el preset inicial de duración para mantener coherencia.</p>
<p>Este método solo se llama una vez en el constructor.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasError"></a>
                    <span class="name">
                        <span ><b>hasError</b></span>
                        <a href="#hasError"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>hasError(controlName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, error: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="529"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:529</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Helper genérico de validación:
devuelve <code>true</code> si un control tiene un error específico y ya fue tocado,
modificado o el formulario fue enviado.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-html">&lt;div *ngIf=&quot;hasError(&#39;title&#39;, &#39;required&#39;)&quot;&gt;
  El título es obligatorio.
&lt;/div&gt;</code></pre></div></div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>controlName</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Nombre del control dentro del formulario.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>error</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Nombre del error (ej: &#39;required&#39;, &#39;minlength&#39;).</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p><code>true</code> si el control debe mostrar ese mensaje de error.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inferModalityPreset"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>inferModalityPreset</b></span>
                        <a href="#inferModalityPreset"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>inferModalityPreset(modalities: <a href="../interfaces/Course.html" target="_self">CourseModality[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="491"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:491</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>A partir del array de <code>CourseModality</code>, devuelve el <code>value</code> del preset
de modalidad que mejor representa esa combinación.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">     Si no se puede inferir, devuelve el preset por defecto.</code></pre></div><b>Example :</b><div><pre class="line-numbers"><code class="language-ts">inferModalityPreset([&#39;Presencial&#39;, &#39;Online&#39;]); // &#39;presencial-online&#39;</code></pre></div></div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Default value</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>modalities</td>
                                            <td>
                                                            <code><a href="../interfaces/Course.html" target="_self" >CourseModality[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                                    <code>[]</code>
                                            </td>

                                            <td>
                                                    <p>Arreglo de modalidades del curso.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p><code>presencial</code>, <code>online</code> o <code>presencial-online</code>.<br>Si no se puede inferir, devuelve el preset por defecto.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnChanges"></a>
                    <span class="name">
                        <span ><b>ngOnChanges</b></span>
                        <a href="#ngOnChanges"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnChanges(changes: SimpleChanges)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="286"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:286</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Hook que se dispara cuando cambia el <code>@Input() course</code>.</p>
<p>Casos:</p>
<ul>
<li><code>course === null</code> → modo crear (reset con defaults).</li>
<li><code>course</code> con valor → modo editar (se rellenan los campos).</li>
</ul>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>changes</td>
                                            <td>
                                                        <code>SimpleChanges</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Cambios detectados en las propiedades de entrada.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onCancel"></a>
                    <span class="name">
                        <span ><b>onCancel</b></span>
                        <a href="#onCancel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onCancel()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="817"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:817</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Notifica al componente padre que el usuario canceló la edición/creación.</p>
<p>No altera el estado del formulario; se delega al padre la decisión
de cerrar modales, descartar cambios, etc.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-html">&lt;button type=&quot;button&quot; (click)=&quot;onCancel()&quot;&gt;Cancelar&lt;/button&gt;</code></pre></div></div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDurationPresetChange"></a>
                    <span class="name">
                        <span ><b>onDurationPresetChange</b></span>
                        <a href="#onDurationPresetChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onDurationPresetChange(event: Event)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="575"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:575</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Handler para el cambio en el select de duración.
Toma el valor seleccionado (índice) y aplica el preset correspondiente.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>Event</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Evento <code>change</code> del <code>&lt;select&gt;</code>.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onPricePerHourPreset"></a>
                    <span class="name">
                        <span ><b>onPricePerHourPreset</b></span>
                        <a href="#onPricePerHourPreset"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onPricePerHourPreset(event: Event)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="612"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:612</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Establece el <code>pricePerHour</code> en base a un preset seleccionado.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>Event</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Evento <code>change</code> del <code>&lt;select&gt;</code> de precio/hora.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onRatingPresetChange"></a>
                    <span class="name">
                        <span ><b>onRatingPresetChange</b></span>
                        <a href="#onRatingPresetChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onRatingPresetChange(event: Event)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="590"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:590</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Aplica un preset de rating (nota + cantidad de reseñas) en el formulario.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>Event</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Evento <code>change</code> del <code>&lt;select&gt;</code> de presets de rating.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSubmit"></a>
                    <span class="name">
                        <span ><b>onSubmit</b></span>
                        <a href="#onSubmit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSubmit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="689"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:689</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Construye un objeto <code>Course</code> completo a partir de los valores del form:</p>
<ul>
<li>Genera <code>slug</code> si está vacío (usando el título).</li>
<li>Aplica presets de modalidad y duración.</li>
<li>Convierte textareas multilínea en arrays (<code>stages</code>, <code>learnOutcomes</code>).</li>
<li>Normaliza tags, precios, rating y flags de visibilidad.</li>
<li>Preserva <code>id</code> y propiedades previas si ya existía un curso.</li>
</ul>
<p>Al final, emite el curso resultante mediante <code>this.save.emit(course)</code>.</p>
<p>Si el form es inválido:</p>
<ul>
<li>marca todos los campos como tocados</li>
<li>no emite ningún valor</li>
</ul>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onToggleTag"></a>
                    <span class="name">
                        <span ><b>onToggleTag</b></span>
                        <a href="#onToggleTag"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onToggleTag(tag: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, checked: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="633"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:633</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Activa o desactiva un tag en la colección <code>selectedTags</code> y sincroniza
el campo <code>tags</code> del formulario como string CSV.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-ts">onToggleTag(&#39;rock&#39;, true); // agrega &#39;rock&#39; a selectedTags</code></pre></div></div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>tag</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Tag a activar/desactivar.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>checked</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Estado del checkbox (<code>true</code> = seleccionado).</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="patchForm"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>patchForm</b></span>
                        <a href="#patchForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>patchForm()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="374"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:374</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Rellena el formulario en función del <code>@Input() course</code>.</p>
<ul>
<li>Si no hay curso → configura el form en modo “crear” con valores default.</li>
<li>Si existe curso → detecta presets de duración y modalidad, y carga
el resto de campos incluyendo textareas y tags.</li>
</ul>
<p>Llamado automáticamente desde <code>ngOnChanges</code>.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="slugify"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>slugify</b></span>
                        <a href="#slugify"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>slugify(value: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="658"
                                    class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:658</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Convierte un título a <code>slug</code> URL-friendly:</p>
<ul>
<li>pasa a minúsculas</li>
<li>elimina acentos</li>
<li>reemplaza espacios/símbolos por guiones</li>
</ul>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>value</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Texto de entrada (generalmente el título del curso).</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Slug normalizado (ej: <code>&quot;Curso de Guitarra Rock&quot;</code> → <code>&quot;curso-de-guitarra-rock&quot;</code>).</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="allTags"></a>
                    <span class="name">
                        <span ><b>allTags</b></span>
                        <a href="#allTags"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    &#x27;guitarra&#x27;,
    &#x27;bajo&#x27;,
    &#x27;batería&#x27;,
    &#x27;teclado&#x27;,
    &#x27;rock&#x27;,
    &#x27;metal&#x27;,
    &#x27;blues&#x27;,
    &#x27;jazz&#x27;,
    &#x27;improvisación&#x27;,
    &#x27;principiantes&#x27;,
    &#x27;intermedio&#x27;,
    &#x27;avanzado&#x27;,
    &#x27;online&#x27;,
    &#x27;presencial&#x27;,
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="228" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:228</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Catálogo global de tags para cursos.
Se manejan tanto como:</p>
<ul>
<li>checkboxes (colección <code>selectedTags</code>)</li>
<li>string CSV en el form (<code>tags</code>).</li>
</ul>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="difficultyOptions"></a>
                    <span class="name">
                        <span ><b>difficultyOptions</b></span>
                        <a href="#difficultyOptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Course.html" target="_self" >CourseDifficulty[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    &#x27;Principiante&#x27;,
    &#x27;Intermedio&#x27;,
    &#x27;Avanzado&#x27;,
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="109" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:109</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Dificultades disponibles para el curso.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="durationPresets"></a>
                    <span class="name">
                        <span ><b>durationPresets</b></span>
                        <a href="#durationPresets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    {
      label: &#x27;8 h · 4 clases&#x27;,
      duration: &#x27;8 h · 4 clases&#x27;,
      durationHours: 8,
      totalLessons: 4,
    },
    {
      label: &#x27;12 h · 6 clases&#x27;,
      duration: &#x27;12 h · 6 clases&#x27;,
      durationHours: 12,
      totalLessons: 6,
    },
    {
      label: &#x27;16 h · 8 clases&#x27;,
      duration: &#x27;16 h · 8 clases&#x27;,
      durationHours: 16,
      totalLessons: 8,
    },
    {
      label: &#x27;20 h · 10 clases&#x27;,
      duration: &#x27;20 h · 10 clases&#x27;,
      durationHours: 20,
      totalLessons: 10,
    },
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="126" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:126</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Presets de duración:</p>
<ul>
<li><code>duration</code>       → etiqueta visible en el front.</li>
<li><code>durationHours</code>  → horas totales numéricas.</li>
<li><code>totalLessons</code>   → cantidad de clases.</li>
</ul>
<p>El formulario guarda el índice del preset (<code>durationPreset</code>) y
estos valores se copian automáticamente a los campos derivados.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="form"></a>
                    <span class="name">
                        <span ><b>form</b></span>
                        <a href="#form"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>FormGroup</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="99" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:99</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Formulario reactivo interno.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="modalityPresets"></a>
                    <span class="name">
                        <span ><b>modalityPresets</b></span>
                        <a href="#modalityPresets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>literal type[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    {
      value: &#x27;presencial&#x27;,
      label: &#x27;Presencial&#x27;,
      modalities: [&#x27;Presencial&#x27;],
    },
    {
      value: &#x27;online&#x27;,
      label: &#x27;Online&#x27;,
      modalities: [&#x27;Online&#x27;],
    },
    {
      value: &#x27;presencial-online&#x27;,
      label: &#x27;Presencial y online&#x27;,
      modalities: [&#x27;Presencial&#x27;, &#x27;Online&#x27;],
    },
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="165" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:165</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Modalidades preconfiguradas:</p>
<ul>
<li><code>value</code>      → lo que se guarda temporalmente en el form.</li>
<li><code>label</code>      → texto visible en el select.</li>
<li><code>modalities</code> → arreglo real de <code>CourseModality</code> que termina en el modelo.</li>
</ul>
<b>Example :</b><div><pre class="line-numbers"><code class="language-ts">// value &#39;presencial-online&#39; → [&#39;Presencial&#39;, &#39;Online&#39;]</code></pre></div></div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="presetPricesCLP"></a>
                    <span class="name">
                        <span ><b>presetPricesCLP</b></span>
                        <a href="#presetPricesCLP"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>number[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[39990, 49990, 69990, 89990, 119990]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="188" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:188</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Presets típicos de precios para cursos (en CLP).</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pricePerHourPresets"></a>
                    <span class="name">
                        <span ><b>pricePerHourPresets</b></span>
                        <a href="#pricePerHourPresets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>number[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[10000, 15000, 20000, 25000]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="191" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:191</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Presets opcionales para precio por hora.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ratingPresets"></a>
                    <span class="name">
                        <span ><b>ratingPresets</b></span>
                        <a href="#ratingPresets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    {
      label: &#x27;Nuevo (sin reseñas)&#x27;,
      rating: null as number | null,
      ratingCount: 0,
    },
    {
      label: &#x27;Curso nuevo (4.5 ★, 3 reseñas)&#x27;,
      rating: 4.5,
      ratingCount: 3,
    },
    {
      label: &#x27;Curso consolidado (4.7 ★, 25 reseñas)&#x27;,
      rating: 4.7,
      ratingCount: 25,
    },
    {
      label: &#x27;Top (4.9 ★, 60 reseñas)&#x27;,
      rating: 4.9,
      ratingCount: 60,
    },
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="198" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:198</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Presets de rating para no inventar números cada vez.
Permiten marcar cursos como “nuevo”, “consolidado” o “top” rápidamente.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedTags"></a>
                    <span class="name">
                        <span ><b>selectedTags</b></span>
                        <a href="#selectedTags"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="246" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:246</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Lista de tags seleccionados vía UI (checkboxes).</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="submitted"></a>
                    <span class="name">
                        <span ><b>submitted</b></span>
                        <a href="#submitted"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="102" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:102</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Flag para mostrar mensajes de validación tras el submit.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

    <section data-compodoc="block-accessors">
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="f"></a>
                        <span class="name"><b>f</b><a href="#f"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>f()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="508" class="link-to-prism">src/app/shared/forms/course-form/course-form.ts:508</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Acceso corto a los controles del form en el template.</p>
</div>

                        </td>
                    </tr>

            </tbody>
        </table>
</section>
</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  Component,
  EventEmitter,
  Input,
  OnChanges,
  Output,
  SimpleChanges,
} from &#x27;@angular/core&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;;
import {
  FormBuilder,
  FormGroup,
  ReactiveFormsModule,
  Validators,
} from &#x27;@angular/forms&#x27;;

import {
  Course,
  CourseDifficulty,
  CourseModality,
} from &#x27;@core/models/course.model&#x27;;

@Component({
  selector: &#x27;app-course-form&#x27;,
  standalone: true,
  imports: [CommonModule, ReactiveFormsModule],
  templateUrl: &#x27;./course-form.html&#x27;,
  styleUrls: [&#x27;./course-form.css&#x27;],
})
/**
 * @description
 * Componente de formulario avanzado para crear y editar entidades &#x60;Course&#x60;.
 *
 * Responsabilidades:
 * - Orquestar un &#x60;FormGroup&#x60; con todos los campos necesarios del modelo.
 * - Ofrecer presets configurables (duración, modalidad, precios, rating, tags).
 * - Convertir inputs “amigables” del admin (selects, textareas) en un
 *   objeto &#x60;Course&#x60; completo, coherente y listo para persistir.
 * - Emitir el curso normalizado hacia el componente padre mediante &#x60;@Output()&#x60;.
 *
 * @usageNotes
 * &#x60;&#x60;&#x60;html
 * &lt;app-course-form
 *   [course]&#x3D;&quot;cursoSeleccionado&quot;
 *   (save)&#x3D;&quot;onSave($event)&quot;
 *   (cancel)&#x3D;&quot;onCancel()&quot;&gt;
 * &lt;/app-course-form&gt;
 * &#x60;&#x60;&#x60;
 */
export class CourseFormComponent implements OnChanges {
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // INPUT / OUTPUT
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * @description
   * Curso a editar. Si es &#x60;null&#x60;, el formulario funciona en modo “crear”.
   */
  @Input() course: Course | null &#x3D; null;

  /**
   * @description
   * Emite un objeto &#x60;Course&#x60; completamente normalizado cuando el formulario
   * es válido y se confirma el envío.
   *
   * @example
   * &#x60;&#x60;&#x60;ts
   * onSave(course: Course) {
   *   this.courseService.upsert(course);
   * }
   * &#x60;&#x60;&#x60;
   */
  @Output() save &#x3D; new EventEmitter&lt;Course&gt;();

  /**
   * @description
   * Evento simple para notificar al componente padre que el usuario canceló
   * la edición/creación. Ideal para cerrar modales, drawers o paneles.
   */
  @Output() cancel &#x3D; new EventEmitter&lt;void&gt;();

  /** Formulario reactivo interno. */
  form!: FormGroup;

  /** Flag para mostrar mensajes de validación tras el submit. */
  submitted &#x3D; false;

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // OPCIONES PREDEFINIDAS (CATÁLOGOS)
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /** Dificultades disponibles para el curso. */
  difficultyOptions: CourseDifficulty[] &#x3D; [
    &#x27;Principiante&#x27;,
    &#x27;Intermedio&#x27;,
    &#x27;Avanzado&#x27;,
  ];

  /**
   * @description
   * Presets de duración:
   * - &#x60;duration&#x60;       → etiqueta visible en el front.
   * - &#x60;durationHours&#x60;  → horas totales numéricas.
   * - &#x60;totalLessons&#x60;   → cantidad de clases.
   *
   * @usageNotes
   * El formulario guarda el índice del preset (&#x60;durationPreset&#x60;) y
   * estos valores se copian automáticamente a los campos derivados.
   */
  durationPresets &#x3D; [
    {
      label: &#x27;8 h · 4 clases&#x27;,
      duration: &#x27;8 h · 4 clases&#x27;,
      durationHours: 8,
      totalLessons: 4,
    },
    {
      label: &#x27;12 h · 6 clases&#x27;,
      duration: &#x27;12 h · 6 clases&#x27;,
      durationHours: 12,
      totalLessons: 6,
    },
    {
      label: &#x27;16 h · 8 clases&#x27;,
      duration: &#x27;16 h · 8 clases&#x27;,
      durationHours: 16,
      totalLessons: 8,
    },
    {
      label: &#x27;20 h · 10 clases&#x27;,
      duration: &#x27;20 h · 10 clases&#x27;,
      durationHours: 20,
      totalLessons: 10,
    },
  ];

  /**
   * @description
   * Modalidades preconfiguradas:
   * - &#x60;value&#x60;      → lo que se guarda temporalmente en el form.
   * - &#x60;label&#x60;      → texto visible en el select.
   * - &#x60;modalities&#x60; → arreglo real de &#x60;CourseModality&#x60; que termina en el modelo.
   *
   * @example
   * &#x60;&#x60;&#x60;ts
   * // value &#x27;presencial-online&#x27; → [&#x27;Presencial&#x27;, &#x27;Online&#x27;]
   * &#x60;&#x60;&#x60;
   */
  modalityPresets: {
    value: string;
    label: string;
    modalities: CourseModality[];
  }[] &#x3D; [
    {
      value: &#x27;presencial&#x27;,
      label: &#x27;Presencial&#x27;,
      modalities: [&#x27;Presencial&#x27;],
    },
    {
      value: &#x27;online&#x27;,
      label: &#x27;Online&#x27;,
      modalities: [&#x27;Online&#x27;],
    },
    {
      value: &#x27;presencial-online&#x27;,
      label: &#x27;Presencial y online&#x27;,
      modalities: [&#x27;Presencial&#x27;, &#x27;Online&#x27;],
    },
  ];

  /** Presets típicos de precios para cursos (en CLP). */
  presetPricesCLP: number[] &#x3D; [39990, 49990, 69990, 89990, 119990];

  /** Presets opcionales para precio por hora. */
  pricePerHourPresets: number[] &#x3D; [10000, 15000, 20000, 25000];

  /**
   * @description
   * Presets de rating para no inventar números cada vez.
   * Permiten marcar cursos como “nuevo”, “consolidado” o “top” rápidamente.
   */
  ratingPresets &#x3D; [
    {
      label: &#x27;Nuevo (sin reseñas)&#x27;,
      rating: null as number | null,
      ratingCount: 0,
    },
    {
      label: &#x27;Curso nuevo (4.5 ★, 3 reseñas)&#x27;,
      rating: 4.5,
      ratingCount: 3,
    },
    {
      label: &#x27;Curso consolidado (4.7 ★, 25 reseñas)&#x27;,
      rating: 4.7,
      ratingCount: 25,
    },
    {
      label: &#x27;Top (4.9 ★, 60 reseñas)&#x27;,
      rating: 4.9,
      ratingCount: 60,
    },
  ];

  /**
   * @description
   * Catálogo global de tags para cursos.
   * Se manejan tanto como:
   * - checkboxes (colección &#x60;selectedTags&#x60;)
   * - string CSV en el form (&#x60;tags&#x60;).
   */
  allTags: string[] &#x3D; [
    &#x27;guitarra&#x27;,
    &#x27;bajo&#x27;,
    &#x27;batería&#x27;,
    &#x27;teclado&#x27;,
    &#x27;rock&#x27;,
    &#x27;metal&#x27;,
    &#x27;blues&#x27;,
    &#x27;jazz&#x27;,
    &#x27;improvisación&#x27;,
    &#x27;principiantes&#x27;,
    &#x27;intermedio&#x27;,
    &#x27;avanzado&#x27;,
    &#x27;online&#x27;,
    &#x27;presencial&#x27;,
  ];

  /** Lista de tags seleccionados vía UI (checkboxes). */
  selectedTags: string[] &#x3D; [];

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // CONSTRUCTOR
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * @description
   * Constructor del componente.
   *
   * - Inyecta &#x60;FormBuilder&#x60;.
   * - Construye el &#x60;FormGroup&#x60; inicial con todos los campos y defaults.
   *
   * @param fb Servicio &#x60;FormBuilder&#x60; para crear formularios reactivos.
   *
   * @example
   * &#x60;&#x60;&#x60;ts
   * constructor(private fb: FormBuilder) {
   *   this.buildForm();
   * }
   * &#x60;&#x60;&#x60;
   */
  constructor(private fb: FormBuilder) {
    this.buildForm();
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // CICLO DE VIDA
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * @description
   * Hook que se dispara cuando cambia el &#x60;@Input() course&#x60;.
   *
   * Casos:
   * - &#x60;course &#x3D;&#x3D;&#x3D; null&#x60; → modo crear (reset con defaults).
   * - &#x60;course&#x60; con valor → modo editar (se rellenan los campos).
   *
   * @param changes Cambios detectados en las propiedades de entrada.
   */
  ngOnChanges(changes: SimpleChanges): void {
    if (changes[&#x27;course&#x27;]) {
      this.patchForm();
    }
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // FORM GROUP: definición de campos y defaults
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * @description
   * Construye el &#x60;FormGroup&#x60; principal del formulario con:
   * - campos básicos de identificación
   * - dificultad, duración, modalidad
   * - descripciones
   * - rating
   * - precios
   * - tags y flags de visibilidad
   *
   * También aplica el preset inicial de duración para mantener coherencia.
   *
   * @usageNotes
   * Este método solo se llama una vez en el constructor.
   */
  private buildForm(): void {
    this.form &#x3D; this.fb.group({
      // Identificación básica
      title: [&#x27;&#x27;, [Validators.required]],
      slug: [&#x27;&#x27;], // se autogenera desde el título si viene vacío
      tutorId: [&#x27;&#x27;, [Validators.required]],
      tutorName: [&#x27;&#x27;, [Validators.required]],

      // Dificultad
      difficulty: [&#x27;intermedio&#x27;, [Validators.required]],

      // Duración (se controla solo por preset)
      durationPreset: [2, [Validators.required]],
      duration: [&#x27;16 h · 8 clases&#x27;, [Validators.required]],
      durationHours: [16],
      totalLessons: [8],

      // Modalidad (selector que luego se traduce a array modalities)
      modalityPreset: [&#x27;presencial-online&#x27;, [Validators.required]],

      // Contenido descriptivo
      shortDescription: [&#x27;&#x27;, [Validators.required]],
      description: [&#x27;&#x27;, [Validators.required]],
      imageUrl: [&#x27;&#x27;],

      // Textareas “multilínea” que se convertirán en arrays
      stagesText: [&#x27;&#x27;],
      learnOutcomesText: [&#x27;&#x27;],

      // Rating opcional
      rating: [null],
      ratingCount: [null],

      // Precios
      priceCLP: [89990, [Validators.required, Validators.min(0)]],
      pricePerHour: [null],

      // Tags: se guarda como string pero se sincroniza con selectedTags
      tags: [&#x27;&#x27;],

      // Flags de visibilidad / destacados
      showInCarousel: [true],
      isFeatured: [true],
      isOffer: [false],
      isNew: [true],
      isActive: [true],
    });

    // Aplica preset inicial de duración para mantener coherencia.
    this.applyDurationPreset(this.form.get(&#x27;durationPreset&#x27;)?.value ?? 2);
  }

  /**
   * @description
   * Rellena el formulario en función del &#x60;@Input() course&#x60;.
   *
   * - Si no hay curso → configura el form en modo “crear” con valores default.
   * - Si existe curso → detecta presets de duración y modalidad, y carga
   *   el resto de campos incluyendo textareas y tags.
   *
   * @usageNotes
   * Llamado automáticamente desde &#x60;ngOnChanges&#x60;.
   */
  private patchForm(): void {
    // MODO CREAR
    if (!this.course) {
      this.form.reset({
        title: &#x27;&#x27;,
        slug: &#x27;&#x27;,
        tutorId: &#x27;&#x27;,
        tutorName: &#x27;&#x27;,
        difficulty: &#x27;intermedio&#x27;,

        durationPreset: 2,
        duration: &#x27;16 h · 8 clases&#x27;,
        durationHours: 16,
        totalLessons: 8,

        modalityPreset: &#x27;presencial-online&#x27;,

        shortDescription: &#x27;&#x27;,
        description: &#x27;&#x27;,
        imageUrl: &#x27;&#x27;,

        stagesText: &#x27;&#x27;,
        learnOutcomesText: &#x27;&#x27;,

        rating: null,
        ratingCount: null,

        priceCLP: 89990,
        pricePerHour: null,

        tags: &#x27;&#x27;,

        showInCarousel: true,
        isFeatured: true,
        isOffer: false,
        isNew: true,
        isActive: true,
      });

      this.selectedTags &#x3D; [];
      return;
    }

    // MODO EDITAR
    // --------------------------------------------
    // 1) Buscar preset que coincida con la duración existente
    let durationPresetIndex &#x3D; 2;
    if (this.course.duration) {
      const found &#x3D; this.durationPresets.findIndex(
        d &#x3D;&gt; d.duration &#x3D;&#x3D;&#x3D; this.course!.duration
      );
      if (found !&#x3D;&#x3D; -1) {
        durationPresetIndex &#x3D; found;
      }
    }
    const durationPreset &#x3D; this.durationPresets[durationPresetIndex];

    // 2) Inferir preset de modalidad a partir del array modalities
    const modalityPresetValue &#x3D; this.inferModalityPreset(this.course.modalities);

    // 3) Cargar valores al form
    this.form.patchValue({
      title: this.course.title,
      slug: this.course.slug,
      tutorId: this.course.tutorId,
      tutorName: this.course.tutorName,
      difficulty: this.course.difficulty || &#x27;intermedio&#x27;,

      durationPreset: durationPresetIndex,
      duration: this.course.duration || durationPreset.duration,
      durationHours: this.course.durationHours ?? durationPreset.durationHours,
      totalLessons:
        this.course.totalLessons ??
        this.course.lessonsCount ??
        durationPreset.totalLessons,

      modalityPreset: modalityPresetValue,

      shortDescription: this.course.shortDescription,
      description: this.course.description,
      imageUrl: this.course.imageUrl || &#x27;&#x27;,

      stagesText: (this.course.stages || []).join(&#x27;\n&#x27;),
      learnOutcomesText: (this.course.learnOutcomes || []).join(&#x27;\n&#x27;),

      rating: this.course.rating ?? null,
      ratingCount: this.course.ratingCount ?? null,

      priceCLP: this.course.priceCLP ?? 89990,
      pricePerHour: this.course.pricePerHour ?? null,

      tags: this.course.tags?.join(&#x27;, &#x27;) || &#x27;&#x27;,

      showInCarousel: this.course.showInCarousel ?? true,
      isFeatured: this.course.isFeatured ?? false,
      isOffer: this.course.isOffer ?? false,
      isNew: this.course.isNew ?? true,
      isActive: this.course.isActive ?? true,
    });

    this.selectedTags &#x3D; this.course.tags ? [...this.course.tags] : [];
  }

  /**
   * @description
   * A partir del array de &#x60;CourseModality&#x60;, devuelve el &#x60;value&#x60; del preset
   * de modalidad que mejor representa esa combinación.
   *
   * @param modalities Arreglo de modalidades del curso.
   * @returns &#x60;presencial&#x60;, &#x60;online&#x60; o &#x60;presencial-online&#x60;.  
   *          Si no se puede inferir, devuelve el preset por defecto.
   *
   * @example
   * &#x60;&#x60;&#x60;ts
   * inferModalityPreset([&#x27;Presencial&#x27;, &#x27;Online&#x27;]); // &#x27;presencial-online&#x27;
   * &#x60;&#x60;&#x60;
   */
  private inferModalityPreset(modalities: CourseModality[] &#x3D; []): string {
    const hasPresencial &#x3D; modalities.includes(&#x27;Presencial&#x27;);
    const hasOnline &#x3D; modalities.includes(&#x27;Online&#x27;);

    if (hasPresencial &amp;&amp; hasOnline) return &#x27;presencial-online&#x27;;
    if (hasPresencial) return &#x27;presencial&#x27;;
    if (hasOnline) return &#x27;online&#x27;;

    // fallback coherente con el default del form
    return &#x27;presencial-online&#x27;;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // HELPERS DE FORM / VALIDACIÓN
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /** Acceso corto a los controles del form en el template. */
  get f() {
    return this.form.controls;
  }

  /**
   * @description
   * Helper genérico de validación:
   * devuelve &#x60;true&#x60; si un control tiene un error específico y ya fue tocado,
   * modificado o el formulario fue enviado.
   *
   * @param controlName Nombre del control dentro del formulario.
   * @param error Nombre del error (ej: &#x27;required&#x27;, &#x27;minlength&#x27;).
   * @returns &#x60;true&#x60; si el control debe mostrar ese mensaje de error.
   *
   * @example
   * &#x60;&#x60;&#x60;html
   * &lt;div *ngIf&#x3D;&quot;hasError(&#x27;title&#x27;, &#x27;required&#x27;)&quot;&gt;
   *   El título es obligatorio.
   * &lt;/div&gt;
   * &#x60;&#x60;&#x60;
   */
  hasError(controlName: string, error: string): boolean {
    const control &#x3D; this.form.get(controlName);
    if (!control) return false;
    return (
      (control.dirty || control.touched || this.submitted) &amp;&amp;
      control.hasError(error)
    );
  }

  /**
   * @description
   * Aplica un preset de duración (por índice) y copia sus valores
   * a los campos derivados del formulario:
   * - &#x60;duration&#x60;
   * - &#x60;durationHours&#x60;
   * - &#x60;totalLessons&#x60;
   *
   * No emite eventos de cambio (&#x60;emitEvent: false&#x60;).
   *
   * @param index Índice del preset dentro de &#x60;durationPresets&#x60;.
   */
  private applyDurationPreset(index: number): void {
    const preset &#x3D; this.durationPresets[index];
    if (!preset) return;

    this.form.patchValue(
      {
        duration: preset.duration,
        durationHours: preset.durationHours,
        totalLessons: preset.totalLessons,
      },
      { emitEvent: false }
    );
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // HANDLERS DE EVENTOS (selects, checkboxes, etc.)
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * @description
   * Handler para el cambio en el select de duración.
   * Toma el valor seleccionado (índice) y aplica el preset correspondiente.
   *
   * @param event Evento &#x60;change&#x60; del &#x60;&lt;select&gt;&#x60;.
   */
  onDurationPresetChange(event: Event): void {
    const select &#x3D; event.target as HTMLSelectElement | null;
    if (!select) return;

    const index &#x3D; Number(select.value);
    if (Number.isNaN(index)) return;
    this.applyDurationPreset(index);
  }

  /**
   * @description
   * Aplica un preset de rating (nota + cantidad de reseñas) en el formulario.
   *
   * @param event Evento &#x60;change&#x60; del &#x60;&lt;select&gt;&#x60; de presets de rating.
   */
  onRatingPresetChange(event: Event): void {
    const select &#x3D; event.target as HTMLSelectElement | null;
    if (!select) return;

    if (select.value &#x3D;&#x3D;&#x3D; &#x27;&#x27;) return;

    const presetIndex &#x3D; Number(select.value);
    const preset &#x3D; this.ratingPresets[presetIndex];
    if (!preset) return;

    this.form.patchValue({
      rating: preset.rating,
      ratingCount: preset.ratingCount,
    });
  }

  /**
   * @description
   * Establece el &#x60;pricePerHour&#x60; en base a un preset seleccionado.
   *
   * @param event Evento &#x60;change&#x60; del &#x60;&lt;select&gt;&#x60; de precio/hora.
   */
  onPricePerHourPreset(event: Event): void {
    const select &#x3D; event.target as HTMLSelectElement | null;
    if (!select) return;

    const value &#x3D; select.value &#x3D;&#x3D;&#x3D; &#x27;&#x27; ? null : Number(select.value);
    this.form.patchValue({ pricePerHour: value });
  }

  /**
   * @description
   * Activa o desactiva un tag en la colección &#x60;selectedTags&#x60; y sincroniza
   * el campo &#x60;tags&#x60; del formulario como string CSV.
   *
   * @param tag Tag a activar/desactivar.
   * @param checked Estado del checkbox (&#x60;true&#x60; &#x3D; seleccionado).
   *
   * @example
   * &#x60;&#x60;&#x60;ts
   * onToggleTag(&#x27;rock&#x27;, true); // agrega &#x27;rock&#x27; a selectedTags
   * &#x60;&#x60;&#x60;
   */
  onToggleTag(tag: string, checked: boolean): void {
    if (checked) {
      if (!this.selectedTags.includes(tag)) {
        this.selectedTags &#x3D; [...this.selectedTags, tag];
      }
    } else {
      this.selectedTags &#x3D; this.selectedTags.filter(t &#x3D;&gt; t !&#x3D;&#x3D; tag);
    }

    this.form.patchValue(
      { tags: this.selectedTags.join(&#x27;, &#x27;) },
      { emitEvent: false }
    );
  }

  /**
   * @description
   * Convierte un título a &#x60;slug&#x60; URL-friendly:
   * - pasa a minúsculas
   * - elimina acentos
   * - reemplaza espacios/símbolos por guiones
   *
   * @param value Texto de entrada (generalmente el título del curso).
   * @returns Slug normalizado (ej: &#x60;&quot;Curso de Guitarra Rock&quot;&#x60; → &#x60;&quot;curso-de-guitarra-rock&quot;&#x60;).
   */
  private slugify(value: string): string {
    return value
      .toLowerCase()
      .trim()
      .normalize(&#x27;NFD&#x27;)
      .replace(/[\u0300-\u036f]/g, &#x27;&#x27;)
      .replace(/[^a-z0-9]+/g, &#x27;-&#x27;)
      .replace(/^-+|-+$/g, &#x27;&#x27;);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // SUBMIT / CANCEL
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * @description
   * Construye un objeto &#x60;Course&#x60; completo a partir de los valores del form:
   *
   * - Genera &#x60;slug&#x60; si está vacío (usando el título).
   * - Aplica presets de modalidad y duración.
   * - Convierte textareas multilínea en arrays (&#x60;stages&#x60;, &#x60;learnOutcomes&#x60;).
   * - Normaliza tags, precios, rating y flags de visibilidad.
   * - Preserva &#x60;id&#x60; y propiedades previas si ya existía un curso.
   *
   * Al final, emite el curso resultante mediante &#x60;this.save.emit(course)&#x60;.
   *
   * @usageNotes
   * Si el form es inválido:
   * - marca todos los campos como tocados
   * - no emite ningún valor
   */
  onSubmit(): void {
    this.submitted &#x3D; true;

    if (this.form.invalid) {
      this.form.markAllAsTouched();
      return;
    }

    const value &#x3D; this.form.value;
    const difficulty &#x3D; value.difficulty as CourseDifficulty;

    // Slug oculto: fallback a título
    let slug &#x3D; value.slug as string;
    if (!slug &amp;&amp; value.title) {
      slug &#x3D; this.slugify(value.title);
    }

    // Duración y estructura ya vienen de los presets
    const duration &#x3D; value.duration as string;
    const durationHours &#x3D; Number(value.durationHours) || undefined;
    const totalLessons &#x3D; Number(value.totalLessons) || undefined;

    // Modalidades a partir del preset elegido
    const modalityPreset &#x3D;
      this.modalityPresets.find(m &#x3D;&gt; m.value &#x3D;&#x3D;&#x3D; value.modalityPreset) ??
      this.modalityPresets[2];
    const modalities &#x3D; modalityPreset.modalities;

    // Textareas → arrays
    const stages &#x3D;
      value.stagesText &amp;&amp; typeof value.stagesText &#x3D;&#x3D;&#x3D; &#x27;string&#x27;
        ? value.stagesText
            .split(&#x27;\n&#x27;)
            .map((s: string) &#x3D;&gt; s.trim())
            .filter(Boolean)
        : [];

    const learnOutcomes &#x3D;
      value.learnOutcomesText &amp;&amp; typeof value.learnOutcomesText &#x3D;&#x3D;&#x3D; &#x27;string&#x27;
        ? value.learnOutcomesText
            .split(&#x27;\n&#x27;)
            .map((s: string) &#x3D;&gt; s.trim())
            .filter(Boolean)
        : [];

    // Tags: preferimos selectedTags si existen, si no, usamos el string CSV
    let tags &#x3D;
      value.tags &amp;&amp; typeof value.tags &#x3D;&#x3D;&#x3D; &#x27;string&#x27;
        ? value.tags
            .split(&#x27;,&#x27;)
            .map((t: string) &#x3D;&gt; t.trim())
            .filter(Boolean)
        : [];

    if (this.selectedTags.length) {
      tags &#x3D; [...this.selectedTags];
    }

    // Base del curso: si ya existía, preservamos id y demás propiedades.
    const base &#x3D; this.course || {
      id: crypto.randomUUID(),
    };

    const priceCLP &#x3D; Number(value.priceCLP) || 0;
    const price &#x3D; priceCLP;

    // Etiqueta de precio formateada para mostrar en cards.
    const priceLabel &#x3D; new Intl.NumberFormat(&#x27;es-CL&#x27;, {
      style: &#x27;currency&#x27;,
      currency: &#x27;CLP&#x27;,
      maximumFractionDigits: 0,
    }).format(priceCLP);

    const course: Course &#x3D; {
      ...base,
      title: value.title,
      slug,
      tutorId: value.tutorId,
      tutorName: value.tutorName,
      difficulty,
      level: difficulty,

      duration,
      durationHours,
      totalLessons,

      shortDescription: value.shortDescription,
      description: value.description,
      imageUrl: value.imageUrl || &#x27;&#x27;,

      modalities,
      stages,
      learnOutcomes,

      rating: value.rating ? Number(value.rating) : undefined,
      ratingCount: value.ratingCount ? Number(value.ratingCount) : undefined,

      priceCLP,
      price,
      priceLabel,
      pricePerHour: value.pricePerHour
        ? Number(value.pricePerHour)
        : undefined,

      tags,

      showInCarousel: !!value.showInCarousel,
      isFeatured: !!value.isFeatured,
      isOffer: !!value.isOffer,
      isNew: !!value.isNew,
      isActive: !!value.isActive,
    };

    this.save.emit(course);
  }

  /**
   * @description
   * Notifica al componente padre que el usuario canceló la edición/creación.
   *
   * No altera el estado del formulario; se delega al padre la decisión
   * de cerrar modales, descartar cambios, etc.
   *
   * @example
   * &#x60;&#x60;&#x60;html
   * &lt;button type&#x3D;&quot;button&quot; (click)&#x3D;&quot;onCancel()&quot;&gt;Cancelar&lt;/button&gt;
   * &#x60;&#x60;&#x60;
   */
  onCancel(): void {
    this.cancel.emit();
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;!--
  Formulario reactivo para crear / editar un curso.
  Uso [formGroup] para enlazar con el FormGroup definido en el componente TS.
--&gt;
&lt;form [formGroup]&#x3D;&quot;form&quot; (ngSubmit)&#x3D;&quot;onSubmit()&quot; class&#x3D;&quot;course-form&quot;&gt;

  &lt;!--
    Botones principales del formulario (arriba):
    - Cancelar: vuelve al listado / cierra el formulario.
    - Guardar curso: dispara el submit del formulario.
  --&gt;
  &lt;div class&#x3D;&quot;d-flex justify-content-end gap-2 mb-4&quot;&gt;
    &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-outline-secondary btn-sm&quot; (click)&#x3D;&quot;onCancel()&quot;&gt;
      Cancelar
    &lt;/button&gt;
    &lt;button type&#x3D;&quot;submit&quot; class&#x3D;&quot;btn btn-primary btn-sm&quot;&gt;
      Guardar curso
    &lt;/button&gt;
  &lt;/div&gt;

  &lt;!--
    Aviso global de validación:
    Solo se muestra cuando ya intenté enviar (submitted)
    y el formulario sigue siendo inválido.
  --&gt;
  &lt;div
    *ngIf&#x3D;&quot;submitted &amp;&amp; form.invalid&quot;
    class&#x3D;&quot;alert alert-danger mb-3&quot;
    role&#x3D;&quot;alert&quot;
  &gt;
    Hay campos obligatorios incompletos o con errores. Revisa los mensajes en cada sección.
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Datos básicos &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;!--
    Card con los datos principales del curso:
    título, tutorId y nombre del tutor.
  --&gt;
  &lt;div class&#x3D;&quot;card mb-3&quot;&gt;
    &lt;div class&#x3D;&quot;card-body&quot;&gt;
      &lt;h5 class&#x3D;&quot;card-title mb-3&quot;&gt;Datos del curso&lt;/h5&gt;

      &lt;div class&#x3D;&quot;row g-3&quot;&gt;
        &lt;!-- Título del curso --&gt;
        &lt;div class&#x3D;&quot;col-md-4&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Título *&lt;/label&gt;
          &lt;input
            type&#x3D;&quot;text&quot;
            class&#x3D;&quot;form-control&quot;
            formControlName&#x3D;&quot;title&quot;
            placeholder&#x3D;&quot;Curso intensivo de guitarra rock&quot;
          /&gt;
          &lt;div class&#x3D;&quot;invalid-feedback d-block&quot; *ngIf&#x3D;&quot;hasError(&#x27;title&#x27;,&#x27;required&#x27;)&quot;&gt;
            El título es obligatorio.
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!--
          Slug:
          El control existe en el FormGroup, pero no lo muestro aquí.
          Si en el futuro necesito editarlo a mano, puedo agregar un input extra.
        --&gt;

        &lt;!-- ID interno del tutor (para relacionarlo con el modelo de tutores) --&gt;
        &lt;div class&#x3D;&quot;col-md-4&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Tutor (ID) *&lt;/label&gt;
          &lt;input
            type&#x3D;&quot;text&quot;
            class&#x3D;&quot;form-control&quot;
            formControlName&#x3D;&quot;tutorId&quot;
            placeholder&#x3D;&quot;marco-vidal&quot;
          /&gt;
          &lt;div class&#x3D;&quot;invalid-feedback d-block&quot; *ngIf&#x3D;&quot;hasError(&#x27;tutorId&#x27;,&#x27;required&#x27;)&quot;&gt;
            El ID del tutor es obligatorio.
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Nombre visible del tutor en la card / detalle --&gt;
        &lt;div class&#x3D;&quot;col-md-4&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Nombre del tutor *&lt;/label&gt;
          &lt;input
            type&#x3D;&quot;text&quot;
            class&#x3D;&quot;form-control&quot;
            formControlName&#x3D;&quot;tutorName&quot;
            placeholder&#x3D;&quot;Marco Vidal&quot;
          /&gt;
          &lt;div class&#x3D;&quot;invalid-feedback d-block&quot; *ngIf&#x3D;&quot;hasError(&#x27;tutorName&#x27;,&#x27;required&#x27;)&quot;&gt;
            El nombre del tutor es obligatorio.
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Nivel, duración y modalidad &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;!--
    Sección para configurar la dificultad, la duración (preset)
    y la modalidad del curso.
  --&gt;
  &lt;div class&#x3D;&quot;card mb-3&quot;&gt;
    &lt;div class&#x3D;&quot;card-body&quot;&gt;
      &lt;h5 class&#x3D;&quot;card-title mb-3&quot;&gt;Nivel, duración y modalidad&lt;/h5&gt;

      &lt;div class&#x3D;&quot;row g-3&quot;&gt;
        &lt;!-- Dificultad: se carga desde el arreglo difficultyOptions --&gt;
        &lt;div class&#x3D;&quot;col-md-4&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Dificultad *&lt;/label&gt;
          &lt;select class&#x3D;&quot;form-select&quot; formControlName&#x3D;&quot;difficulty&quot;&gt;
            &lt;option *ngFor&#x3D;&quot;let diff of difficultyOptions&quot; [value]&#x3D;&quot;diff&quot;&gt;
              {{ diff | titlecase }}
            &lt;/option&gt;
          &lt;/select&gt;
          &lt;div class&#x3D;&quot;invalid-feedback d-block&quot; *ngIf&#x3D;&quot;hasError(&#x27;difficulty&#x27;,&#x27;required&#x27;)&quot;&gt;
            La dificultad es obligatoria.
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!--
          Duración predefinida:
          Al cambiar este select, onDurationPresetChange($event)
          actualiza horas, número de clases y el texto de duración.
        --&gt;
        &lt;div class&#x3D;&quot;col-md-4&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Duración (predefinida) *&lt;/label&gt;
          &lt;select
            class&#x3D;&quot;form-select&quot;
            formControlName&#x3D;&quot;durationPreset&quot;
            (change)&#x3D;&quot;onDurationPresetChange($event)&quot;
          &gt;
            &lt;option *ngFor&#x3D;&quot;let d of durationPresets; let i &#x3D; index&quot; [value]&#x3D;&quot;i&quot;&gt;
              {{ d.label }}
            &lt;/option&gt;
          &lt;/select&gt;
          &lt;div class&#x3D;&quot;form-text&quot;&gt;
            Define horas y número de clases automáticamente.
          &lt;/div&gt;
          &lt;div class&#x3D;&quot;invalid-feedback d-block&quot; *ngIf&#x3D;&quot;hasError(&#x27;durationPreset&#x27;,&#x27;required&#x27;)&quot;&gt;
            Debes seleccionar una duración.
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!--
          Modalidad:
          Usa presets que mapean a las modalidades que se muestran en el detalle
          (presencial, online, presencial y online).
        --&gt;
        &lt;div class&#x3D;&quot;col-md-4&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Modalidad *&lt;/label&gt;
          &lt;select
            class&#x3D;&quot;form-select&quot;
            formControlName&#x3D;&quot;modalityPreset&quot;
          &gt;
            &lt;option *ngFor&#x3D;&quot;let m of modalityPresets&quot; [value]&#x3D;&quot;m.value&quot;&gt;
              {{ m.label }}
            &lt;/option&gt;
          &lt;/select&gt;
          &lt;div class&#x3D;&quot;invalid-feedback d-block&quot; *ngIf&#x3D;&quot;hasError(&#x27;modalityPreset&#x27;,&#x27;required&#x27;)&quot;&gt;
            Debes seleccionar una modalidad.
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Contenido &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;!--
    Textos que se muestran en la card y en el detalle del curso:
    - shortDescription: resumen corto.
    - description: texto más largo con detalles.
  --&gt;
  &lt;div class&#x3D;&quot;card mb-3&quot;&gt;
    &lt;div class&#x3D;&quot;card-body&quot;&gt;
      &lt;h5 class&#x3D;&quot;card-title mb-3&quot;&gt;Contenido&lt;/h5&gt;

      &lt;div class&#x3D;&quot;mb-3&quot;&gt;
        &lt;label class&#x3D;&quot;form-label&quot;&gt;Descripción corta *&lt;/label&gt;
        &lt;input
          type&#x3D;&quot;text&quot;
          class&#x3D;&quot;form-control&quot;
          formControlName&#x3D;&quot;shortDescription&quot;
        /&gt;
        &lt;div class&#x3D;&quot;invalid-feedback d-block&quot; *ngIf&#x3D;&quot;hasError(&#x27;shortDescription&#x27;,&#x27;required&#x27;)&quot;&gt;
          La descripción corta es obligatoria.
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div class&#x3D;&quot;mb-3&quot;&gt;
        &lt;label class&#x3D;&quot;form-label&quot;&gt;Descripción larga *&lt;/label&gt;
        &lt;textarea
          rows&#x3D;&quot;3&quot;
          class&#x3D;&quot;form-control&quot;
          formControlName&#x3D;&quot;description&quot;
        &gt;&lt;/textarea&gt;
        &lt;div class&#x3D;&quot;invalid-feedback d-block&quot; *ngIf&#x3D;&quot;hasError(&#x27;description&#x27;,&#x27;required&#x27;)&quot;&gt;
          La descripción larga es obligatoria.
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Imagen &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;!--
    URL de la imagen principal del curso.
    Si está vacía, la card se puede mostrar sin imagen o con un placeholder.
  --&gt;
  &lt;div class&#x3D;&quot;card mb-3&quot;&gt;
    &lt;div class&#x3D;&quot;card-body&quot;&gt;
      &lt;h5 class&#x3D;&quot;card-title mb-3&quot;&gt;Imagen del curso&lt;/h5&gt;

      &lt;div class&#x3D;&quot;mb-3&quot;&gt;
        &lt;label class&#x3D;&quot;form-label&quot;&gt;URL imagen principal&lt;/label&gt;
        &lt;input
          type&#x3D;&quot;text&quot;
          class&#x3D;&quot;form-control&quot;
          formControlName&#x3D;&quot;imageUrl&quot;
          placeholder&#x3D;&quot;assets/img/courses/guitarra-rock.jpg&quot;
        /&gt;
        &lt;div class&#x3D;&quot;form-text&quot;&gt;
          Si no agregas imagen, la card puede mostrarse sin foto.
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Estructura del curso &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;!--
    Aquí defino la estructura interna del curso:
    - stagesText: lista de módulos (cada línea es un ítem).
    - learnOutcomesText: lista de aprendizajes (cada línea es un ítem).
    En el TS convierto estos textos en arrays antes de guardar.
  --&gt;
  &lt;div class&#x3D;&quot;card mb-3&quot;&gt;
    &lt;div class&#x3D;&quot;card-body&quot;&gt;
      &lt;h5 class&#x3D;&quot;card-title mb-3&quot;&gt;Estructura del curso&lt;/h5&gt;

      &lt;div class&#x3D;&quot;row g-3&quot;&gt;
        &lt;div class&#x3D;&quot;col-md-6&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Etapas / Módulos (uno por línea)&lt;/label&gt;
          &lt;textarea
            rows&#x3D;&quot;3&quot;
            class&#x3D;&quot;form-control&quot;
            formControlName&#x3D;&quot;stagesText&quot;
          &gt;&lt;/textarea&gt;
        &lt;/div&gt;

        &lt;div class&#x3D;&quot;col-md-6&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Qué aprenderá el estudiante (uno por línea)&lt;/label&gt;
          &lt;textarea
            rows&#x3D;&quot;3&quot;
            class&#x3D;&quot;form-control&quot;
            formControlName&#x3D;&quot;learnOutcomesText&quot;
          &gt;&lt;/textarea&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Rating + Precio &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;!--
    Sección para rating y precios del curso.
    - Rating: se puede dejar manual o usar presets.
    - Precio total CLP: obligatorio (select con valores predefinidos).
    - Precio por hora: opcional, también con presets.
  --&gt;
  &lt;div class&#x3D;&quot;card mb-3&quot;&gt;
    &lt;div class&#x3D;&quot;card-body&quot;&gt;
      &lt;h5 class&#x3D;&quot;card-title mb-3&quot;&gt;Rating y precio&lt;/h5&gt;

      &lt;div class&#x3D;&quot;row g-3&quot;&gt;
        &lt;!-- Rating usando presets --&gt;
        &lt;div class&#x3D;&quot;col-md-6 mb-3&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Rating (preset)&lt;/label&gt;
          &lt;select class&#x3D;&quot;form-select&quot; (change)&#x3D;&quot;onRatingPresetChange($event)&quot;&gt;
            &lt;option value&#x3D;&quot;&quot;&gt;Definir manualmente / sin rating&lt;/option&gt;
            &lt;option *ngFor&#x3D;&quot;let r of ratingPresets; let i &#x3D; index&quot; [value]&#x3D;&quot;i&quot;&gt;
              {{ r.label }}
            &lt;/option&gt;
          &lt;/select&gt;

          &lt;!--
            Controles para rating manual:
            Están comentados porque por ahora estoy usando solo presets.
            Si más adelante quiero editar rating a mano, los puedo reactivar.
          --&gt;
          &lt;!--
          &lt;div class&#x3D;&quot;row g-2 mt-2&quot;&gt;
            &lt;div class&#x3D;&quot;col-6&quot;&gt;
              &lt;label class&#x3D;&quot;form-label small mb-0&quot;&gt;Rating promedio&lt;/label&gt;
              &lt;input
                type&#x3D;&quot;number&quot;
                step&#x3D;&quot;0.1&quot;
                class&#x3D;&quot;form-control form-control-sm&quot;
                formControlName&#x3D;&quot;rating&quot;
              /&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;col-6&quot;&gt;
              &lt;label class&#x3D;&quot;form-label small mb-0&quot;&gt;Cantidad de reseñas&lt;/label&gt;
              &lt;input
                type&#x3D;&quot;number&quot;
                class&#x3D;&quot;form-control form-control-sm&quot;
                formControlName&#x3D;&quot;ratingCount&quot;
              /&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          --&gt;
        &lt;/div&gt;

        &lt;!-- Precio total del curso --&gt;
        &lt;div class&#x3D;&quot;col-md-3&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Precio total (CLP) *&lt;/label&gt;
          &lt;select class&#x3D;&quot;form-select&quot; formControlName&#x3D;&quot;priceCLP&quot;&gt;
            &lt;option *ngFor&#x3D;&quot;let p of presetPricesCLP&quot; [ngValue]&#x3D;&quot;p&quot;&gt;
              {{ p | currency:&#x27;CLP&#x27;:&#x27;symbol&#x27;:&#x27;1.0-0&#x27; }}
            &lt;/option&gt;
          &lt;/select&gt;
          &lt;div class&#x3D;&quot;invalid-feedback d-block&quot; *ngIf&#x3D;&quot;hasError(&#x27;priceCLP&#x27;,&#x27;required&#x27;)&quot;&gt;
            El precio total es obligatorio.
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Precio por hora (opcional) --&gt;
        &lt;div class&#x3D;&quot;col-md-3&quot;&gt;
          &lt;label class&#x3D;&quot;form-label&quot;&gt;Precio por hora (opcional)&lt;/label&gt;
          &lt;select
            class&#x3D;&quot;form-select&quot;
            formControlName&#x3D;&quot;pricePerHour&quot;
            (change)&#x3D;&quot;onPricePerHourPreset($event)&quot;
          &gt;
            &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;Sin definir&lt;/option&gt;
            &lt;option *ngFor&#x3D;&quot;let p of pricePerHourPresets&quot; [ngValue]&#x3D;&quot;p&quot;&gt;
              {{ p | currency:&#x27;CLP&#x27;:&#x27;symbol&#x27;:&#x27;1.0-0&#x27; }}
            &lt;/option&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Tags &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;!--
    Selector de tags:
    - allTags: lista de todos los tags disponibles.
    - selectedTags: array con los tags actualmente elegidos.
    El método onToggleTag(tag, checked) se encarga de agregarlos o quitarlos.
  --&gt;
  &lt;div class&#x3D;&quot;card mb-3&quot;&gt;
    &lt;div class&#x3D;&quot;card-body&quot;&gt;
      &lt;h5 class&#x3D;&quot;card-title mb-3&quot;&gt;Tags&lt;/h5&gt;
      &lt;p class&#x3D;&quot;small text-muted&quot;&gt;
        Selecciona los tags que describen este curso.
      &lt;/p&gt;

      &lt;div class&#x3D;&quot;d-flex flex-wrap gap-2&quot;&gt;
        &lt;label
          *ngFor&#x3D;&quot;let tag of allTags&quot;
          class&#x3D;&quot;badge rounded-pill bg-secondary-subtle text-light px-3 py-2 d-flex align-items-center gap-2&quot;
          style&#x3D;&quot;cursor:pointer&quot;
        &gt;
          &lt;input
            type&#x3D;&quot;checkbox&quot;
            class&#x3D;&quot;form-check-input m-0&quot;
            [checked]&#x3D;&quot;selectedTags.includes(tag)&quot;
            (change)&#x3D;&quot;onToggleTag(tag, $event.target.checked)&quot;
          /&gt;
          {{ tag }}
        &lt;/label&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Flags admin &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;!--
    Flags de visibilidad para el curso:
    - showInCarousel: aparece en carruseles de la home.
    - isFeatured: se muestra como destacado.
    - isOffer: marcado como oferta.
    - isNew: etiquetado como nuevo.
    - isActive: controla si se muestra o no en el sitio público.
  --&gt;
  &lt;div class&#x3D;&quot;card mb-3&quot;&gt;
    &lt;div class&#x3D;&quot;card-body&quot;&gt;
      &lt;h5 class&#x3D;&quot;card-title mb-3&quot;&gt;Visibilidad&lt;/h5&gt;

      &lt;div class&#x3D;&quot;row g-3&quot;&gt;
        &lt;div class&#x3D;&quot;col-md-2 col-6&quot;&gt;
          &lt;div class&#x3D;&quot;form-check form-switch&quot;&gt;
            &lt;input
              type&#x3D;&quot;checkbox&quot;
              class&#x3D;&quot;form-check-input&quot;
              id&#x3D;&quot;showInCarousel&quot;
              formControlName&#x3D;&quot;showInCarousel&quot;
            /&gt;
            &lt;label class&#x3D;&quot;form-check-label&quot; for&#x3D;&quot;showInCarousel&quot;&gt;
              En carruseles
            &lt;/label&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class&#x3D;&quot;col-md-2 col-6&quot;&gt;
          &lt;div class&#x3D;&quot;form-check form-switch&quot;&gt;
            &lt;input
              type&#x3D;&quot;checkbox&quot;
              class&#x3D;&quot;form-check-input&quot;
              id&#x3D;&quot;isFeatured&quot;
              formControlName&#x3D;&quot;isFeatured&quot;
            /&gt;
            &lt;label class&#x3D;&quot;form-check-label&quot; for&#x3D;&quot;isFeatured&quot;&gt;
              Destacado
            &lt;/label&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class&#x3D;&quot;col-md-2 col-6&quot;&gt;
          &lt;div class&#x3D;&quot;form-check form-switch&quot;&gt;
            &lt;input
              type&#x3D;&quot;checkbox&quot;
              class&#x3D;&quot;form-check-input&quot;
              id&#x3D;&quot;isOffer&quot;
              formControlName&#x3D;&quot;isOffer&quot;
            /&gt;
            &lt;label class&#x3D;&quot;form-check-label&quot; for&#x3D;&quot;isOffer&quot;&gt;
              Oferta
            &lt;/label&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class&#x3D;&quot;col-md-2 col-6&quot;&gt;
          &lt;div class&#x3D;&quot;form-check form-switch&quot;&gt;
            &lt;input
              type&#x3D;&quot;checkbox&quot;
              class&#x3D;&quot;form-check-input&quot;
              id&#x3D;&quot;isNew&quot;
              formControlName&#x3D;&quot;isNew&quot;
            /&gt;
            &lt;label class&#x3D;&quot;form-check-label&quot; for&#x3D;&quot;isNew&quot;&gt;
              Nuevo
            &lt;/label&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class&#x3D;&quot;col-md-2 col-6&quot;&gt;
          &lt;div class&#x3D;&quot;form-check form-switch&quot;&gt;
            &lt;input
              type&#x3D;&quot;checkbox&quot;
              class&#x3D;&quot;form-check-input&quot;
              id&#x3D;&quot;isActive&quot;
              formControlName&#x3D;&quot;isActive&quot;
            /&gt;
            &lt;label class&#x3D;&quot;form-check-label&quot; for&#x3D;&quot;isActive&quot;&gt;
              Activo
            &lt;/label&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; BOTONES (pie del formulario) &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;!--
    Mismos botones del inicio, pero al final del formulario
    para no tener que volver arriba después de editar todo.
  --&gt;
  &lt;div class&#x3D;&quot;d-flex justify-content-end gap-2 mb-4&quot;&gt;
    &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-outline-secondary&quot; (click)&#x3D;&quot;onCancel()&quot;&gt;
      Cancelar
    &lt;/button&gt;
    &lt;button type&#x3D;&quot;submit&quot; class&#x3D;&quot;btn btn-primary&quot;&gt;
      Guardar curso
    &lt;/button&gt;
  &lt;/div&gt;

&lt;/form&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="styleData">
                <p class="comment">
                    <code>./course-form.css</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">form {
  font-size: 0.9rem;
}</code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis-network.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><!--  Formulario reactivo para crear / editar un curso.  Uso [formGroup] para enlazar con el FormGroup definido en el componente TS.--><form [formGroup]="form" (ngSubmit)="onSubmit()" class="course-form">  <!--    Botones principales del formulario (arriba):    - Cancelar: vuelve al listado / cierra el formulario.    - Guardar curso: dispara el submit del formulario.  -->  <div class="d-flex justify-content-end gap-2 mb-4">    <button type="button" class="btn btn-outline-secondary btn-sm" (click)="onCancel()">      Cancelar    </button>    <button type="submit" class="btn btn-primary btn-sm">      Guardar curso    </button>  </div>  <!--    Aviso global de validación:    Solo se muestra cuando ya intenté enviar (submitted)    y el formulario sigue siendo inválido.  -->  <div    *ngIf="submitted && form.invalid"    class="alert alert-danger mb-3"    role="alert"  >    Hay campos obligatorios incompletos o con errores. Revisa los mensajes en cada sección.  </div>  <!-- ================== Datos básicos ================== -->  <!--    Card con los datos principales del curso:    título, tutorId y nombre del tutor.  -->  <div class="card mb-3">    <div class="card-body">      <h5 class="card-title mb-3">Datos del curso</h5>      <div class="row g-3">        <!-- Título del curso -->        <div class="col-md-4">          <label class="form-label">Título *</label>          <input            type="text"            class="form-control"            formControlName="title"            placeholder="Curso intensivo de guitarra rock"          />          <div class="invalid-feedback d-block" *ngIf="hasError(\'title\',\'required\')">            El título es obligatorio.          </div>        </div>        <!--          Slug:          El control existe en el FormGroup, pero no lo muestro aquí.          Si en el futuro necesito editarlo a mano, puedo agregar un input extra.        -->        <!-- ID interno del tutor (para relacionarlo con el modelo de tutores) -->        <div class="col-md-4">          <label class="form-label">Tutor (ID) *</label>          <input            type="text"            class="form-control"            formControlName="tutorId"            placeholder="marco-vidal"          />          <div class="invalid-feedback d-block" *ngIf="hasError(\'tutorId\',\'required\')">            El ID del tutor es obligatorio.          </div>        </div>        <!-- Nombre visible del tutor en la card / detalle -->        <div class="col-md-4">          <label class="form-label">Nombre del tutor *</label>          <input            type="text"            class="form-control"            formControlName="tutorName"            placeholder="Marco Vidal"          />          <div class="invalid-feedback d-block" *ngIf="hasError(\'tutorName\',\'required\')">            El nombre del tutor es obligatorio.          </div>        </div>      </div>    </div>  </div>  <!-- ================== Nivel, duración y modalidad ================== -->  <!--    Sección para configurar la dificultad, la duración (preset)    y la modalidad del curso.  -->  <div class="card mb-3">    <div class="card-body">      <h5 class="card-title mb-3">Nivel, duración y modalidad</h5>      <div class="row g-3">        <!-- Dificultad: se carga desde el arreglo difficultyOptions -->        <div class="col-md-4">          <label class="form-label">Dificultad *</label>          <select class="form-select" formControlName="difficulty">            <option *ngFor="let diff of difficultyOptions" [value]="diff">              {{ diff | titlecase }}            </option>          </select>          <div class="invalid-feedback d-block" *ngIf="hasError(\'difficulty\',\'required\')">            La dificultad es obligatoria.          </div>        </div>        <!--          Duración predefinida:          Al cambiar este select, onDurationPresetChange($event)          actualiza horas, número de clases y el texto de duración.        -->        <div class="col-md-4">          <label class="form-label">Duración (predefinida) *</label>          <select            class="form-select"            formControlName="durationPreset"            (change)="onDurationPresetChange($event)"          >            <option *ngFor="let d of durationPresets; let i = index" [value]="i">              {{ d.label }}            </option>          </select>          <div class="form-text">            Define horas y número de clases automáticamente.          </div>          <div class="invalid-feedback d-block" *ngIf="hasError(\'durationPreset\',\'required\')">            Debes seleccionar una duración.          </div>        </div>        <!--          Modalidad:          Usa presets que mapean a las modalidades que se muestran en el detalle          (presencial, online, presencial y online).        -->        <div class="col-md-4">          <label class="form-label">Modalidad *</label>          <select            class="form-select"            formControlName="modalityPreset"          >            <option *ngFor="let m of modalityPresets" [value]="m.value">              {{ m.label }}            </option>          </select>          <div class="invalid-feedback d-block" *ngIf="hasError(\'modalityPreset\',\'required\')">            Debes seleccionar una modalidad.          </div>        </div>      </div>    </div>  </div>  <!-- ================== Contenido ================== -->  <!--    Textos que se muestran en la card y en el detalle del curso:    - shortDescription: resumen corto.    - description: texto más largo con detalles.  -->  <div class="card mb-3">    <div class="card-body">      <h5 class="card-title mb-3">Contenido</h5>      <div class="mb-3">        <label class="form-label">Descripción corta *</label>        <input          type="text"          class="form-control"          formControlName="shortDescription"        />        <div class="invalid-feedback d-block" *ngIf="hasError(\'shortDescription\',\'required\')">          La descripción corta es obligatoria.        </div>      </div>      <div class="mb-3">        <label class="form-label">Descripción larga *</label>        <textarea          rows="3"          class="form-control"          formControlName="description"        ></textarea>        <div class="invalid-feedback d-block" *ngIf="hasError(\'description\',\'required\')">          La descripción larga es obligatoria.        </div>      </div>    </div>  </div>  <!-- ================== Imagen ================== -->  <!--    URL de la imagen principal del curso.    Si está vacía, la card se puede mostrar sin imagen o con un placeholder.  -->  <div class="card mb-3">    <div class="card-body">      <h5 class="card-title mb-3">Imagen del curso</h5>      <div class="mb-3">        <label class="form-label">URL imagen principal</label>        <input          type="text"          class="form-control"          formControlName="imageUrl"          placeholder="assets/img/courses/guitarra-rock.jpg"        />        <div class="form-text">          Si no agregas imagen, la card puede mostrarse sin foto.        </div>      </div>    </div>  </div>  <!-- ================== Estructura del curso ================== -->  <!--    Aquí defino la estructura interna del curso:    - stagesText: lista de módulos (cada línea es un ítem).    - learnOutcomesText: lista de aprendizajes (cada línea es un ítem).    En el TS convierto estos textos en arrays antes de guardar.  -->  <div class="card mb-3">    <div class="card-body">      <h5 class="card-title mb-3">Estructura del curso</h5>      <div class="row g-3">        <div class="col-md-6">          <label class="form-label">Etapas / Módulos (uno por línea)</label>          <textarea            rows="3"            class="form-control"            formControlName="stagesText"          ></textarea>        </div>        <div class="col-md-6">          <label class="form-label">Qué aprenderá el estudiante (uno por línea)</label>          <textarea            rows="3"            class="form-control"            formControlName="learnOutcomesText"          ></textarea>        </div>      </div>    </div>  </div>  <!-- ================== Rating + Precio ================== -->  <!--    Sección para rating y precios del curso.    - Rating: se puede dejar manual o usar presets.    - Precio total CLP: obligatorio (select con valores predefinidos).    - Precio por hora: opcional, también con presets.  -->  <div class="card mb-3">    <div class="card-body">      <h5 class="card-title mb-3">Rating y precio</h5>      <div class="row g-3">        <!-- Rating usando presets -->        <div class="col-md-6 mb-3">          <label class="form-label">Rating (preset)</label>          <select class="form-select" (change)="onRatingPresetChange($event)">            <option value="">Definir manualmente / sin rating</option>            <option *ngFor="let r of ratingPresets; let i = index" [value]="i">              {{ r.label }}            </option>          </select>          <!--            Controles para rating manual:            Están comentados porque por ahora estoy usando solo presets.            Si más adelante quiero editar rating a mano, los puedo reactivar.          -->          <!--          <div class="row g-2 mt-2">            <div class="col-6">              <label class="form-label small mb-0">Rating promedio</label>              <input                type="number"                step="0.1"                class="form-control form-control-sm"                formControlName="rating"              />            </div>            <div class="col-6">              <label class="form-label small mb-0">Cantidad de reseñas</label>              <input                type="number"                class="form-control form-control-sm"                formControlName="ratingCount"              />            </div>          </div>          -->        </div>        <!-- Precio total del curso -->        <div class="col-md-3">          <label class="form-label">Precio total (CLP) *</label>          <select class="form-select" formControlName="priceCLP">            <option *ngFor="let p of presetPricesCLP" [ngValue]="p">              {{ p | currency:\'CLP\':\'symbol\':\'1.0-0\' }}            </option>          </select>          <div class="invalid-feedback d-block" *ngIf="hasError(\'priceCLP\',\'required\')">            El precio total es obligatorio.          </div>        </div>        <!-- Precio por hora (opcional) -->        <div class="col-md-3">          <label class="form-label">Precio por hora (opcional)</label>          <select            class="form-select"            formControlName="pricePerHour"            (change)="onPricePerHourPreset($event)"          >            <option [ngValue]="null">Sin definir</option>            <option *ngFor="let p of pricePerHourPresets" [ngValue]="p">              {{ p | currency:\'CLP\':\'symbol\':\'1.0-0\' }}            </option>          </select>        </div>      </div>    </div>  </div>  <!-- ================== Tags ================== -->  <!--    Selector de tags:    - allTags: lista de todos los tags disponibles.    - selectedTags: array con los tags actualmente elegidos.    El método onToggleTag(tag, checked) se encarga de agregarlos o quitarlos.  -->  <div class="card mb-3">    <div class="card-body">      <h5 class="card-title mb-3">Tags</h5>      <p class="small text-muted">        Selecciona los tags que describen este curso.      </p>      <div class="d-flex flex-wrap gap-2">        <label          *ngFor="let tag of allTags"          class="badge rounded-pill bg-secondary-subtle text-light px-3 py-2 d-flex align-items-center gap-2"          style="cursor:pointer"        >          <input            type="checkbox"            class="form-check-input m-0"            [checked]="selectedTags.includes(tag)"            (change)="onToggleTag(tag, $event.target.checked)"          />          {{ tag }}        </label>      </div>    </div>  </div>  <!-- ================== Flags admin ================== -->  <!--    Flags de visibilidad para el curso:    - showInCarousel: aparece en carruseles de la home.    - isFeatured: se muestra como destacado.    - isOffer: marcado como oferta.    - isNew: etiquetado como nuevo.    - isActive: controla si se muestra o no en el sitio público.  -->  <div class="card mb-3">    <div class="card-body">      <h5 class="card-title mb-3">Visibilidad</h5>      <div class="row g-3">        <div class="col-md-2 col-6">          <div class="form-check form-switch">            <input              type="checkbox"              class="form-check-input"              id="showInCarousel"              formControlName="showInCarousel"            />            <label class="form-check-label" for="showInCarousel">              En carruseles            </label>          </div>        </div>        <div class="col-md-2 col-6">          <div class="form-check form-switch">            <input              type="checkbox"              class="form-check-input"              id="isFeatured"              formControlName="isFeatured"            />            <label class="form-check-label" for="isFeatured">              Destacado            </label>          </div>        </div>        <div class="col-md-2 col-6">          <div class="form-check form-switch">            <input              type="checkbox"              class="form-check-input"              id="isOffer"              formControlName="isOffer"            />            <label class="form-check-label" for="isOffer">              Oferta            </label>          </div>        </div>        <div class="col-md-2 col-6">          <div class="form-check form-switch">            <input              type="checkbox"              class="form-check-input"              id="isNew"              formControlName="isNew"            />            <label class="form-check-label" for="isNew">              Nuevo            </label>          </div>        </div>        <div class="col-md-2 col-6">          <div class="form-check form-switch">            <input              type="checkbox"              class="form-check-input"              id="isActive"              formControlName="isActive"            />            <label class="form-check-label" for="isActive">              Activo            </label>          </div>        </div>      </div>    </div>  </div>  <!-- ================== BOTONES (pie del formulario) ================== -->  <!--    Mismos botones del inicio, pero al final del formulario    para no tener que volver arriba después de editar todo.  -->  <div class="d-flex justify-content-end gap-2 mb-4">    <button type="button" class="btn btn-outline-secondary" (click)="onCancel()">      Cancelar    </button>    <button type="submit" class="btn btn-primary">      Guardar curso    </button>  </div></form></div>'
    var COMPONENTS = [{'name': 'AdBanner', 'selector': 'app-ad-banner'},{'name': 'AdminCursosComponent', 'selector': 'app-admin-cursos'},{'name': 'AdminDashboard', 'selector': 'app-admin-dashboard'},{'name': 'AdminLayout', 'selector': 'app-admin-layout'},{'name': 'AdminProductos', 'selector': 'app-admin-productos'},{'name': 'AdminTutores', 'selector': 'app-admin-tutores'},{'name': 'AdminUsuarios', 'selector': 'app-admin-usuarios'},{'name': 'App', 'selector': 'app-root'},{'name': 'BreadcrumbComponent', 'selector': 'app-breadcrumb'},{'name': 'Carousel', 'selector': 'app-carousel'},{'name': 'Contacto', 'selector': 'app-contacto'},{'name': 'CourseCardComponent', 'selector': 'app-course-card'},{'name': 'CourseFormComponent', 'selector': 'app-course-form'},{'name': 'CursoDetailComponent', 'selector': 'app-curso-detail'},{'name': 'CursosListComponent', 'selector': 'app-cursos-list'},{'name': 'FooterComponent', 'selector': 'app-footer'},{'name': 'Home', 'selector': 'app-home'},{'name': 'LoadingComponent', 'selector': 'app-loading'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'MainLayout', 'selector': 'app-main-layout'},{'name': 'NavbarComponent', 'selector': 'app-navbar'},{'name': 'NewsCard', 'selector': 'app-news-card'},{'name': 'NoticiaDetalle', 'selector': 'app-noticias-detail'},{'name': 'Noticias', 'selector': 'app-noticias'},{'name': 'ProductCardComponent', 'selector': 'app-product-card'},{'name': 'ProductCategoryBannerComponent', 'selector': 'app-product-category-banner'},{'name': 'ProductDetailComponent', 'selector': 'app-product-detail'},{'name': 'ProductFiltersComponent', 'selector': 'app-product-filters'},{'name': 'ProductFormComponent', 'selector': 'app-product-form'},{'name': 'ProductGridComponent', 'selector': 'app-product-grid'},{'name': 'ProductListComponent', 'selector': 'app-product-list'},{'name': 'Profile', 'selector': 'app-profile'},{'name': 'Recover', 'selector': 'app-recover-password'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'ServicioDetail', 'selector': 'app-servicio-detail'},{'name': 'ServiciosList', 'selector': 'app-servicios-list'},{'name': 'Somos', 'selector': 'app-somos'},{'name': 'TutorCardComponent', 'selector': 'app-tutor-card'},{'name': 'TutoresListComponent', 'selector': 'app-tutores-list'},{'name': 'TutorFilterBarComponent', 'selector': 'app-tutor-filter-bar'},{'name': 'TutorFormComponent', 'selector': 'app-tutor-form'},{'name': 'TutorProfileComponent', 'selector': 'app-tutor-profile-page'},{'name': 'UserFormComponent', 'selector': 'app-user-form'}];
    var DIRECTIVES = [{'name': 'FadeUpDirective', 'selector': '[appFadeUp]'}];
    var ACTUAL_COMPONENT = {'name': 'CourseFormComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'CourseFormComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
